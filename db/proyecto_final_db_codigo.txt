
create schema empresa

create table empresa.PIEZAS (CODIGO int(6)primary key  not null auto_increment,nombre VARCHAR(20),PRECIO FLOAT NOT NULL,DESCRIPCION TEXT )ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;
create table empresa.PROVEEDORES (CODIGO int(6)primary key  not null auto_increment,nombre VARCHAR(20),APELLIDO VARCHAR(30) NOT NULL,DIRECCION VARCHAR(40))ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;
create table empresa.PROYECTOS (CODIGO int(6)primary key  not null auto_increment ,nombre VARCHAR(20),CIUDAD VARCHAR(40))ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;




create table EMPRESA.GESTION (CodigoGestion int(6) not null auto_increment,CODPROVEEDOR int(6) NOT NULL, CODPIEZA  int(6) NOT NULL,CODPROYECTO int(6) NOT NULL,CANTIDAD NUMERIC,PRIMARY KEY(CodigoGestion,CODPROVEEDOR, CODPIEZA, CODPROYECTO),FOREIGN KEY (CODPROVEEDOR) REFERENCES PROVEEDORES (CODIGO) ON DELETE CASCADE,FOREIGN KEY (CODPIEZA) REFERENCES PIEZAS (CODIGO) ON DELeTE CASCADE,FOREIGN KEY (CODPROYECTO) REFERENCES PROYECTOS (CODIGO) ON DELeTE CASCADE)ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;

alter table empresa.proyectos auto_increment =300000;
alter table empresa.piezas auto_increment =100000;
alter table empresa.proveedores auto_increment =200000;
alter table empresa.gestion auto_increment =400000;












create schema empresa

create table empresa.PIEZAS (CODIGO VARCHAR(6) primary key not null default 'F00000',nombre VARCHAR(20),PRECIO FLOAT NOT NULL,DESCRIPCION TEXT )ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;
create table empresa.PROVEEDORES (CODIGO VARCHAR(6) primary key not null default 'F00000',nombre VARCHAR(20),APELLIDO VARCHAR(30) NOT NULL,DIRECCION VARCHAR(40))ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;
create table empresa.PROYECTOS (CODIGO VARCHAR(6)primary key  not null default 'F00000',nombre VARCHAR(20),CIUDAD VARCHAR(40))ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;


create table EMPRESA.GESTION (CodigoGestion varchar(6) not null default 'F00000',CODPROVEEDOR VARCHAR(6) NOT NULL default 'F00000' , CODPIEZA  VARCHAR(6) NOT NULL default 'F00000' ,CODPROYECTO VARCHAR(6) NOT NULL default 'F00000',CANTIDAD NUMERIC,PRIMARY KEY(CodigoGestion,CODPROVEEDOR, CODPIEZA, CODPROYECTO),FOREIGN KEY (CODPROVEEDOR) REFERENCES PROVEEDORES (CODIGO) ON DELETE CASCADE,FOREIGN KEY (CODPIEZA) REFERENCES PIEZAS (CODIGO) ON DELeTE CASCADE,FOREIGN KEY (CODPROYECTO) REFERENCES PROYECTOS (CODIGO) ON DELeTE CASCADE)ENGINE=INNODB CHARACTER SET utf8 COLLATE utf8_general_ci;


